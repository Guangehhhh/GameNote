# 相位技术
- 让每个玩家的可见对象受底层模块的一些参数控制，他只能看到他能看到的景物
- 同位面的 NPC 实际上全部存在于一个场景，只是被位面约束，可能不可见而已
- 位技术不仅仅是要解决可见性问题，还需要解决互动问题
  - 用这个方案的难点在于，即使我们可以在玩家对象上做一个可见性过滤（这倒是在我们现在的架构上，很容易实现）
  - 也很难去处理交互问题
  - 比如释放一个 AOE 法术攻击一个区域内的对象，就需要给法术本身也设置位面影响
- 简单的方案是，如果一个场景因为上面的任务线的不同，而可能有不同的位面。那么、我们就实际去制作多个不同的场景（指服务器的配置）然后全部位面都独立启动起来。
- 指定一个主位面，它是覆盖全地图的
  - 其它位面都有一定的影响区域
  - 也就是说，次位面在地图大小上和主位面一样，只是布置的 NPC 对象不同，但一般只在一个较小区域上布置
- 玩家会因为任务进度的关系进入次位面，但在次位面上移动超过影响区域就自动切回主位面
- 玩家处于不同位面实际上是处于不同的场景服务中。但这个切换的代价是相当之小的
  - 首先客户端并不需要移动位置，也不需要加载场景
  - 玩家不会感觉到停顿
  - 服务器那边，相同地图的不同位面一定是在同一进程中，只是把绑定在玩家上的 agent 切换了交互 map 而已
